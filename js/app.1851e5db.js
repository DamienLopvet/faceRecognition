(function(){var e={4178:function(e,t,i){"use strict";var o=i(9963),n=i(6252);function r(e,t,i,o,r,a){const s=(0,n.up)("Recognition");return(0,n.wg)(),(0,n.j4)(s)}var a=i(3577);const s={key:0,class:"notification is-warning"},c=(0,n._)("strong",null,"Please Wait!",-1),u={class:"container"};function d(e,t,i,o,r,d){return(0,n.wg)(),(0,n.iD)(n.HY,null,[r.NeedToWaitNotification?((0,n.wg)(),(0,n.iD)("div",s,[c,(0,n.Uk)(" Please wait! The page is freeplan hosted, it needs to wake up first, this will take about 40 seconds. ")])):(0,n.kq)("",!0),(0,n._)("h1",null,(0,a.zw)(r.emoji),1),(0,n._)("div",u,[(0,n._)("video",{src:"",id:"video",width:"720",height:"560",autoplay:"",onPlay:t[0]||(t[0]=(...e)=>d.faceDetection&&d.faceDetection(...e))},null,32)])],64)}i(560);var l=i(9813),f={name:"HelloWorld",data(){return{expression:"",emoji:"",NeedToWaitNotification:!0}},methods:{loadModules(){l.qB.tinyFaceDetector.loadFromUri("./weights"),l.qB.faceLandmark68Net.loadFromUri("./weights"),l.qB.faceRecognitionNet.loadFromUri("./weights"),l.qB.faceExpressionNet.loadFromUri("./weights"),l.qB.ageGenderNet.loadFromUri("./weights")},pleaseWaitNotification(){setTimeout((()=>{this.NeedToWaitNotification=!1}),4e4)},startVideo(){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;const e=document.querySelector("video");navigator.getUserMedia({video:{}},(t=>e.srcObject=t),(e=>console.error(e)))},getExpression(e){let t=[];for(var i in e)t.push([i,e[i]]);t.sort((function(e,t){return t[1]-e[1]})),t[0][0]?this.expression=t[0][0]:this.expression="neutral"},faceDetection(){const e=document.querySelector("video"),t=document.querySelector(".container"),i=l.Jd(e);t.append(i);const o={width:e.width,height:e.height};l.JF(i,o),setInterval((async()=>{const t=await l.Qr(e,new l.aK).withFaceLandmarks().withFaceExpressions().withAgeAndGender();console.log(t),t[0]&&this.getExpression(t[0].expressions);const n=l._C(t,o);i.getContext("2d").clearRect(0,0,i.width,i.height),l.ii.drawDetections(i,n),l.ii.drawFaceExpressions(i,n),n.forEach((e=>{const t=e.detection.box,o=new l.ii.DrawBox(t,{label:e.gender+", environ "+Math.round(e.age)+" ans "});o.draw(i)}))}),400)}},watch:{expression:function(e){switch(console.log(e),e){case"angry":this.emoji="😠";break;case"disgusted":this.emoji="😖";break;case"fearful":this.emoji="😨";break;case"happy":this.emoji="😃";break;case"neutral":this.emoji="😐";break;case"sad":this.emoji="🥺";break;case"surprised":this.emoji="😮";break;default:this.emoji="😐";break}}},mounted(){this.startVideo(),this.pleaseWaitNotification()},beforeMount(){this.loadModules()}},h=i(3744);const g=(0,h.Z)(f,[["render",d]]);var p=g,v={name:"App",components:{Recognition:p}};const w=(0,h.Z)(v,[["render",r]]);var m=w;(0,o.ri)(m).mount("#app")},8369:function(){},3655:function(){},5118:function(){}},t={};function i(o){var n=t[o];if(void 0!==n)return n.exports;var r=t[o]={exports:{}};return e[o].call(r.exports,r,r.exports,i),r.exports}i.m=e,function(){var e=[];i.O=function(t,o,n,r){if(!o){var a=1/0;for(d=0;d<e.length;d++){o=e[d][0],n=e[d][1],r=e[d][2];for(var s=!0,c=0;c<o.length;c++)(!1&r||a>=r)&&Object.keys(i.O).every((function(e){return i.O[e](o[c])}))?o.splice(c--,1):(s=!1,r<a&&(a=r));if(s){e.splice(d--,1);var u=n();void 0!==u&&(t=u)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,n,r]}}(),function(){i.d=function(e,t){for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,r,a=o[0],s=o[1],c=o[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(n in s)i.o(s,n)&&(i.m[n]=s[n]);if(c)var d=c(i)}for(t&&t(o);u<a.length;u++)r=a[u],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(d)},o=self["webpackChunkface_recognition"]=self["webpackChunkface_recognition"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=i.O(void 0,[998],(function(){return i(4178)}));o=i.O(o)})();
//# sourceMappingURL=app.1851e5db.js.map